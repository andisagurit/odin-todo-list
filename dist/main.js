(()=>{"use strict";var e={d:(t,o)=>{for(var c in o)e.o(o,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:o[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{Z:()=>n});class t{constructor(e){this.name=e,this.todos=[]}addTodo(e){this.todos.push(e)}addProjectsDOM(){const e=document.createElement("div");e.classList.add("project-item");const t=document.createElement("p");t.textContent=this.name;const o=document.createElement("img");return o.setAttribute("id","btn-delete"),o.src="../dist/images/delete.png",o.width="25",o.addEventListener("click",c.deleteProject),e.appendChild(t),e.appendChild(o),e}}class o{constructor(e,t,o,c,d){this.title=e,this.desc=t,this.date=new Date(o).toLocaleDateString(),this.project=c,this.checked=d}addTodosDOM(){const e=document.createElement("div");e.classList.add("todo-item"),e.setAttribute("data-project-title",this.project);const t=document.createElement("div");t.classList.add("left");const o=document.createElement("div");o.classList.add("unchecked"),o.addEventListener("click",c.toggleTaskCheck);const d=document.createElement("div");d.classList.add("text"),this.checked&&(o.classList.add("checked"),d.classList.add("item-checked"));const n=document.createElement("p");n.innerHTML="<b>Title:</b> "+this.title;const r=document.createElement("p");r.innerHTML="<b>Description:</b> "+this.desc,d.appendChild(n),d.appendChild(r),t.appendChild(o),t.appendChild(d),e.appendChild(t);const a=document.createElement("div");a.classList.add("right");const s=document.createElement("p");s.classList.add("date"),s.innerHTML="<b>Due Date:</b> "+this.date;const i=document.createElement("img");return i.setAttribute("id","btn-delete"),i.src="../dist/images/delete.png",i.width="25",i.addEventListener("click",c.deleteTodo),a.appendChild(s),a.appendChild(i),e.appendChild(a),e}}const c=(()=>{let e=[];function c(t){const o=document.querySelector(".todos");o.innerHTML="",e.forEach((e=>{e.name==t&&e.todos.forEach((e=>o.appendChild(e.addTodosDOM())))}))}function d(){const t=document.querySelector(".todos");t.innerHTML="",e.forEach((e=>{e.todos.forEach((e=>t.appendChild(e.addTodosDOM())))}))}function r(){const t=document.querySelector(".project-items");t.innerHTML="",e.forEach((e=>{let o=e.addProjectsDOM();o.addEventListener("click",n.changeTaskTab),t.appendChild(o)}))}return{addProjects:function(o){o.preventDefault();const c=document.querySelector(".project-name-input");if(""==c.value)return;let d=new t(o.target.parentNode.parentNode[0].value);e.push(d);const r=document.querySelector(".project-items"),a=d.addProjectsDOM();a.addEventListener("click",n.changeTaskTab),r.appendChild(a),document.querySelector(".project-form").classList.add("hide"),c.value="",document.querySelector(".add-project").classList.remove("hide")},addTodos:function(t){let c=t.target.parentNode.parentNode;if(""==c[0].value||""==c[2].value)return;const d=document.querySelector(".add-todo"),n=d.getAttribute("data-project-name");let r=new o(c[0].value,c[1].value,c[2].value,n,!1);e.forEach((e=>{e.name===n&&e.addTodo(r)})),c[0].value="",c[1].value="",c[2].value="",c.parentNode.classList.add("hide"),d.classList.remove("hide");const a=r.addTodosDOM();document.querySelector(".todos").appendChild(a)},toggleTaskCheck:function(t){t.target.classList.toggle("checked"),t.target.nextSibling.classList.toggle("item-checked");const o=t.target.nextSibling.querySelector("p").innerText;e.forEach((e=>{e.todos.forEach((e=>{e.title==o&&(e.checked=!e.checked)}))}))},showProjects:c,showAllTasks:d,deleteProject:function(t){const o=t.target.parentNode.querySelector("p").innerText;let c;t.target.parentNode.classList.remove("active"),e.forEach((e=>{e.name==o&&(c=e)})),e.splice(c,1);const d=document.querySelector(".headline"),n=document.querySelector(".add-todo");d.innerText="Yours Tasks",n.classList.add("hide"),r()},deleteTodo:function(t){const o=t.target.parentNode.parentNode.getAttribute("data-project-title"),n=t.target.parentNode.parentNode.querySelector("p").innerText;let r;e.forEach((e=>{e.name==o&&(e.todos.forEach((e=>{e.title==n&&(r=e)})),e.todos.splice(r,1))})),"Your Tasks"===document.querySelector(".headline").textContent?d():c(o)},showAllProjects:r}})(),d=(()=>{function e(){const e=document.querySelector(".add-project"),d=document.querySelector(".cancel-project");document.querySelector(".submit-project").addEventListener("click",c.addProjects),e.addEventListener("click",t),d.addEventListener("click",t);const n=document.querySelector(".add-todo"),r=document.querySelector(".cancel-todo");document.querySelector(".sumbit-todo").addEventListener("click",c.addTodos),n.addEventListener("click",o),r.addEventListener("click",o)}function t(e){e.target.classList.contains("add-project")?(e.target.classList.add("hide"),document.querySelector(".project-form").classList.remove("hide")):e.target.classList.contains("cancel-project")&&(document.querySelector(".project-form").classList.add("hide"),document.querySelector(".project-name-input").value="",document.querySelector(".add-project").classList.remove("hide"))}function o(e){e.target.classList.contains("add-todo")?(e.target.classList.add("hide"),document.querySelector(".todo-form").classList.remove("hide")):e.target.classList.contains("cancel-todo")&&(document.querySelector(".todo-form").classList.add("hide"),document.querySelector(".add-todo").classList.remove("hide"))}return{addEvents:e,pageLoad:function(){e(),c.showAllProjects(),c.showAllTasks()},changeTaskTab:function(e){const t=document.querySelectorAll(".project-item"),o=document.querySelector(".add-todo");o.setAttribute("data-project-name",""),t.forEach((e=>e.classList.remove("active"))),e.target.classList.add("active");const d=document.querySelector(".headline");e.target.classList.contains("project-item")&&(d.innerText="Your Tasks from Project: "+e.target.querySelector("p").innerText,o.classList.remove("hide"),o.setAttribute("data-project-name",e.target.querySelector("p").innerText),c.showProjects(e.target.querySelector("p").innerText))}}})();d.pageLoad();const n=d})();